<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- D3.js was added to this project via CDN -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src = "d3-transform.js"></script>
    <title>D3.js and SVG Transformation</title>
</head>

<body>

    <!-- SVG with one transformation -->
    <svg width="300" height="300">
        <rect x="20" y="20" width="60" height="60" fill="green" transform="translate(30 30)">
        </rect>
    </svg>

    <!-- SVG with more than one transformation -->
    <svg width="300" height="300">
        <rect x="20" y="20" width="60" height="60" fill="green" transform="translate(60 60) rotate(45)">
        </rect>
    </svg>

    <!-- SVG group with more than one transformation -->
    <svg width="300" height="300">
        <g transform="translate(60,60) rotate(30)">
            <rect x="20" y="20" width="60" height="30" fill="green">
            </rect>
            <circle cx="0" cy="0" r="30" fill="red" />
        </g>
    </svg>

    <div id="svgcontainer"></div>

    <script>
        /*** SVG Transformation using D3.js ***/

        // STEP 1: Create SVG image
        var width = 300;
        var height = 300;
        var svg = d3.select("#svgcontainer")
            .append("svg")
            .attr("width", width)
            .attr("height", height);

        // STEP 2: Create SVG group element with 'transform' attribute
        var group = svg.append("g").attr("transform", "translate(60, 60) rotate(30)");

        // STEP 3: Create an SVG rectangle and append it to the group
        var rect = group
            .append("rect")
            .attr("x", 20)
            .attr("y", 20)
            .attr("width", 60)
            .attr("height", 30)
            .attr("fill", "green")

        // STEP 4: Create an SVG circle and append it to the group
        var circle = group
            .append("circle")
            .attr("cx", 0)
            .attr("cy", 0)
            .attr("r", 30)
            .attr("fill", "red")


        /*** SVG Transformation with Transform Library ***/
        var my_transform = d3Transform()
            .translate([60, 60])
            .rotate(30);

        var group = svg
            .append("g")
            .attr("transform", my_transform);
            
    </script>
</body>

</html>